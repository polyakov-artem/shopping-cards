(window["webpackJsonpshopping-cards"]=window["webpackJsonpshopping-cards"]||[]).push([[0],{33:function(e,t,r){e.exports=r(67)},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(8),s=r.n(c),o=r(5),l=r(2),i=r(30),u=(r(43),r(44),r(45),r(46),r(47),r(10)),m=r(11),p=r(14),d=r(12),b=r(13),f=r(1),O=r(18),_=r.n(O),y=r(31),E=r(32),g=r.n(E),v="LOADING_STARTED",h="UPDATE_PRODUCTS",j="LOADING_ENDED",N="LOADING_ERROR",P="UPDATE_ARRANGED_PRODUCTS",w="UPDATE_FILTERS",D="UPDATE_SORTBY";function S(){return function(e,t){var r=t().cardsReducer,a=r.sortBy,n=r.filters,c=r.products,s=function(e,t){switch(t){case"lowest":return e.sort(function(e,t){return e.price-t.price});case"highest":return e.sort(function(e,t){return t.price-e.price});default:return e}}(Object(f.a)(c),a);n.length&&(s=s.filter(function(e){return e.availableSizes.some(function(e){return n.indexOf(e)>=0})})),e(k(s))}}function k(e){return{type:P,payload:e}}function C(e){return{type:D,payload:e}}var R=r(7),T="TOGGLE_MENU",A="UPDATE_CART_PRODUCTS";function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function F(){return{type:T}}function I(e){return{type:A,payload:e}}function L(e,t,r){for(var a=e.length,n=0;n<a;n++)if(e[n][t]===r)return n;return-1}var U=function(e){var t=["checkbox"].concat(Object(f.a)(e.classes||[])).join(" ");return n.a.createElement("label",{className:t},n.a.createElement("input",{className:"checkbox__control",type:"checkbox",onChange:e.onChange}),n.a.createElement("span",{className:"checkbox__box"},e.label))},B=["XS","S","M","ML","L","XL","XXL"],M=function(e){function t(){var e,r;Object(u.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).filterProducts=function(e){var t=r.filters;t.has(e)?t.delete(e):t.add(e),r.props.updateFilters(Array.from(t)),r.props.arrangeProducts()},r}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.filters=new Set}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"filter"},n.a.createElement("h4",{className:"filter__title"},"Sizes"),n.a.createElement("ul",{className:"sizes"},B.map(function(t){return n.a.createElement("li",{className:"sizes__item",key:t},n.a.createElement(U,{label:t,onChange:function(){return e.filterProducts(t)}}))})))}}]),t}(n.a.Component),q={updateFilters:function(e){return{type:w,payload:e}},arrangeProducts:S},X=Object(l.b)(null,q)(M),z=function(e){var t=e.optionClasses,r=e.name,a=e.onChange,c=e.id,s=e.options,o=["select"].concat(Object(f.a)(e.classes||[])).join(" ");return n.a.createElement("select",{className:o,name:r,id:c,onChange:a},s.map(function(e){return n.a.createElement("option",{className:t,value:e.value,key:e.label},e.label)}))},G={arrangeProducts:S,updateSortBy:C},H=Object(l.b)(null,G)(function(e){var t=e.updateSortBy,r=e.arrangeProducts,a=["sortby"].concat(Object(f.a)(e.classes||[])).join(" ");return n.a.createElement("div",{className:a},n.a.createElement("label",{className:"sortby__label",htmlFor:"sortby__select"},"Sort by "),n.a.createElement(z,{optionClasses:"sortby__option",classes:["sortby__select"],options:[{value:"default",label:"Select"},{value:"lowest",label:"Lowest to highest"},{value:"highest",label:"Highest to lowest"}],name:"sortby",onChange:function(e){t(e.target.value),r()},id:"sortby"}))}),J=function(e){var t=e.resultsNum;return n.a.createElement("div",{className:"results-panel"},n.a.createElement("p",null,n.a.createElement("span",null,t)," Product(s) found"),n.a.createElement(H,{classes:["results-panel__sortby"]}))},V=r(19),W={addToCart:function(e){return function(t,r){var a=Object(f.a)(r().cartReducer.products),n=L(a,"id",e.id),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach(function(t){Object(R.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);-1!==n?a[n].quantity+=1:(a.push(c),c.quantity=1),t(I(a))}}},K=Object(l.b)(null,W)(function(e){var t=["card"].concat(Object(f.a)(e.classes||[])).join(" "),r=e.product,a=e.addToCart,c=r.isFreeShipping,s=r.sku,o=r.title,l=r.installments,i=r.currencyFormat,u=(""+r.price).split("."),m=Object(V.a)(u,2),p=m[0],d=m[1],b=void 0===d?0:d,O=(.5*r.price).toFixed(1).split("."),_=Object(V.a)(O,2),y=_[0],E=_[1],g=void 0===E?0:E;return n.a.createElement("div",{className:t},n.a.createElement("div",{className:"card__img-wrap"},c&&n.a.createElement("span",{className:"card__state"},"Free shipping"),n.a.createElement("img",{className:"card__img responsive-img",src:"images/products/".concat(s,"_1.jpg"),alt:o})),n.a.createElement("h5",{className:"card__title"},o),n.a.createElement("p",{className:"card__basic-price"},i,n.a.createElement("span",null,p),".",b),n.a.createElement("p",{className:"card__spec-price"},"or ",l," x",i,n.a.createElement("span",null,y),".",g),n.a.createElement("button",{type:"button",className:"btn btn_size_1 btn_theme_1",onClick:function(){return a(r)}},"Add to cart"))}),Q=(r(66),function(e){var t=["loader"].concat(Object(f.a)(e.classes||[])).join(" ");return n.a.createElement("div",{className:t})}),Y=function(e){var t=["cards"].concat(Object(f.a)(e.classes||[])).join(" "),r=n.a.createElement("div",{className:t},e.arrangedProducts.map(function(e){return n.a.createElement(K,{key:e.id,classes:["cards__card","col-lg-3","col-md-4","col-sm-6"],product:e})}));return e.arrangedProducts.length?r:n.a.createElement(Q,{classes:["cards__loader"]})},$={removeFromCart:function(e){return function(t,r){var a=Object(f.a)(r().cartReducer.products),n=L(a,"id",e.id);a.splice(n,1),t(I(a))}}},Z=Object(l.b)(null,$)(function(e){var t=e.removeFromCart,r=e.product,a=e.quantity,c=r.sku,s=r.title,o=r.style,l=r.currencyFormat,i=r.price,u=r.availableSizes;return n.a.createElement("li",{className:"cart-item"},n.a.createElement("img",{className:"cart-item__img",src:"images/products/".concat(c,"_2.jpg"),alt:s}),n.a.createElement("div",{className:"cart-item__col"},n.a.createElement("h5",{className:"cart-item__title"},s),n.a.createElement("p",{className:"cart-item__descr"},u.join(", ")," | ",o),n.a.createElement("p",{className:"cart-item__quantity"},"Quantity:",n.a.createElement("span",null,"\xa0",a))),n.a.createElement("button",{type:"button",className:"btn cart-item__remove-btn",onClick:function(){return t(r)}},n.a.createElement("span",null,"+")),n.a.createElement("div",{className:"cart-item__price"},l," ",i.toFixed(2)))}),ee=function(e){var t=e.products,r=n.a.createElement("ul",{className:"cart-list"},t.map(function(e){return n.a.createElement(Z,{product:e,quantity:e.quantity,key:e.id})}));return 0===t.length?n.a.createElement("p",{className:"cart__add-text"},"Add something to cart..."):r};var te={toggleMenu:F},re=Object(l.b)(function(e){return{menuIsOpen:e.cartReducer.menuIsOpen,products:e.cartReducer.products}},te)(function(e){var t=e.toggleMenu,r=e.menuIsOpen,a=e.products,c=a.reduce(function(e,t){return e+t.quantity},0),s=a.reduce(function(e,t){return e+t.price*t.quantity},0).toFixed(2),o=a[0]&&a[0].currencyFormat||"";return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"hamburger hamburger_spin menu-close-btn "+(r?" is-active menu-close-btn_is_active":""),onClick:t},n.a.createElement("div",{className:"hamburger-box"},n.a.createElement("div",{className:"hamburger-inner"}))),n.a.createElement("div",{className:"cart"+(r?" cart_is_open":""),onScroll:function(e){return!1}},n.a.createElement("div",{className:"cart__header"},n.a.createElement("div",{className:"cart__logo"},n.a.createElement("img",{className:"responsive-img",src:"images/bag-icon.png",alt:""}),n.a.createElement("div",{className:"cart__num"},c)),n.a.createElement("h4",{className:"cart__title"},"Cart")),n.a.createElement(ee,{products:a}),n.a.createElement("div",{className:"cart__total"},n.a.createElement("div",{className:"cart__total-col-1"},"SUBTOTAL"),n.a.createElement("div",{className:"cart__total-col-2"},n.a.createElement("p",{className:"cart__total-price"},o," ",s))),n.a.createElement("button",{className:"btn btn_size_1 btn_theme_1"},"CHECKOUT")))}),ae=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this.props.arrangedProducts;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"aside-panel"},n.a.createElement(X,null)),n.a.createElement("div",{className:"content"},n.a.createElement(J,{resultsNum:e.length}),n.a.createElement(Y,{classes:["row"],arrangedProducts:e})))),n.a.createElement(re,null))}}]),t}(n.a.Component);var ne={fetchProducts:function(){return function(){var e=Object(y.a)(_.a.mark(function e(t,r){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v}),e.prev=1,e.next=4,g.a.get("https://shopping-carts-d135c.firebaseio.com/products.json");case 4:a=e.sent,t((n=a.data,{type:h,payload:n})),t(k(a.data)),t(S()),t({type:j}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t((r=e.t0,{type:N,payload:r}));case 14:case 15:case"end":return e.stop()}var r,n},e,null,[[1,11]])}));return function(t,r){return e.apply(this,arguments)}}()},toggleMenu:F,arrangeProducts:S,updateSortBy:C},ce=Object(l.b)(function(e){return{arrangedProducts:e.cardsReducer.arrangedProducts,productsAreLoading:e.cardsReducer.loading,productsError:e.cardsReducer.error,menuIsOpen:e.cartReducer.menuIsOpen}},ne)(ae);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(r,!0).forEach(function(t){Object(R.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var le={menuIsOpen:!1,products:[]};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(r,!0).forEach(function(t){Object(R.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var me={products:[],arrangedProducts:[],filters:[],sortBy:"Select",loading:!1,error:null};var pe=Object(o.c)({cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return oe({},e,{menuIsOpen:!e.menuIsOpen});case A:return oe({},e,{products:t.payload});default:return e}},cardsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return ue({},e,{loading:!0});case h:return ue({},e,{products:t.payload});case j:return ue({},e,{loading:!1});case N:return ue({},e,{error:t.payload});case P:return ue({},e,{arrangedProducts:t.payload});case w:return ue({},e,{filters:t.payload});case D:return ue({},e,{sortBy:t.payload});default:return e}}}),de="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25}):o.d,be=Object(o.e)(pe,de(Object(o.a)(i.a))),fe=n.a.createElement(l.a,{store:be},n.a.createElement(ce,null));s.a.render(fe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.5d61b124.chunk.js.map